/*! Mutiny v0.2.0 - http://mutinyjs.com/ */
(function(a,n,e){function t(a){return!!a.substring}n(function(){i.init()});var i=a.Mutiny={init:function(a,r){r=r||"mutiny",a=a||n("*");var l=function(a,r,l){if(i[r]===e)throw'"'+r+'" not found';var s=n.extend({},i[r].defaults);t(l)?s[i[r].string_arg]=l:n.extend(s,l),i[r].init(a,s)};a.each(function(a,e){var i=n(e),s=i.data();if(r in s){var o=s[r];if(t(o))l(i,o,{});else{if("object"!=typeof s)throw"Unsupported data";for(var c in o)l(i,c,o[c])}}for(var u in s)if(0===u.indexOf(r)&&u!=r){var f=u.replace(r,"").toLowerCase(),v=s[u];l(i,f,v||{})}})}};i.accordion={defaults:{autoHeight:!1,collapsible:!0,active:!1},init:function(e,t){var i=a.location.hash;i&&e.find(i).length>0&&(t.active=i),e.accordion(t),n(a).on("hashchange",function(){var n=a.location.hash;n&&e.find(n).length>0&&e.accordion("activate",n)})}},i.datepicker={init:function(a,n){a.datepicker(n)}},i.slider={defaults:{range:"min"},_createFormatSpan:function(a,n,e){(null===n||""===n)&&(n="&nbsp;");var t=a.replace("%s","<span>"+n+"</span>");return e?'<span class="'+e+'">'+t+"</span>":"<span>"+t+"</span>"},init:function(a,e){var t;if(e.target)t=n(e.target);else{var i=a.attr("id"),r="";i&&(r=' id="'+i+'-mutiny-slider"'),t=n("<div"+r+"></div>").insertAfter(a)}if(e.value=a.val(),e.slide=function(n,e){a.val(e.value).change()},a.is("select")){var l=a.find("option");e.min=Number(l.first().val()),e.max=Number(l.last().val()),e.step=(e.max-e.min)/(l.length-1)}else n.each(["min","max","step"],function(n,t){e[t]=Number(e[t]||a.attr(t)||a.data(t))});if(a.change(function(){var n=Number(a.val());n>e.max&&(n=e.max),e.min>n&&(n=e.min),isNaN(n)&&(n=e.value),a.val(n),t.slider("value",n)}),e.minLabel&&t.append(this._createFormatSpan(e.minLabel,e.min,"min-label")),e.maxLabel&&t.append(this._createFormatSpan(e.maxLabel,e.max,"max-label")),t.slider(e),e.valueLabel){var s=n(this._createFormatSpan(e.valueLabel,e.value,"value-label")).appendTo(t.find(".ui-slider-handle")),o=s.find("span");a.change(function(){o.html(a.val())})}}},i.toggler={defaults:{style:{display:"none"},preventDefault:!1,instigatorClass:"active"},string_arg:"target",init:function(a,e){var t,i=n(e.target);if(e["class"])t=function(a){i.toggleClass(e["class"],a)};else{var r={};for(var l in e.style)r[l]=i.css(l);t=function(a){i.css(a?e.style:r)}}if(a.is("input[type=radio]")){var s=a.attr("name");n('input[name="'+s+'"]').change(function(){var n=a.is(":checked");a.toggleClass(e.instigatorClass,n),t(n)})}else{var o=!1;a.click(function(n){o=!o,a.toggleClass(e.instigatorClass,o),t(o),e.preventDefault&&n.preventDefault()})}}}})(window,jQuery);